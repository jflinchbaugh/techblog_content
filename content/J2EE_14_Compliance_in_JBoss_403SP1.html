title=J2EE 1.4 Compliance in JBoss 4.0.3SP1
date=2005-10-26 08:25:13.061
type=post
status=published
tags=Computers, Java, Technology, Blog Code, Linux
~~~~~~
<p>This <a href = "http://docs.jboss.org/jbossas/jboss4guide/r3/html/pr05.html#conf">JBoss documentation</a> details the switches to flip to get proper J2EE 1.4 compliance.  These couple changes and ensuring remote ejb-ref mappings (<code>jnp://localhost:1099/blog/BlogService</code>) in jboss-web.xml allows my relatively straight-forward application to run.</p>
<p>I deploy my EJBs in a jar, and the web-tier in a war.  The war contains the client.jar for the EJBs as one would expect from a normal app server.  This caused JBoss to complain of "<em> Invalid invocation, check your deployment packaging</em>" until I got the server configuration right.</p>
<p>I wonder if I could put together a nice script to customize these things for me in every new JBoss build.</p>
<p>Along the way, I also discovered that I had my datasource type mapping declared in my xdoclet call (in build.xml).  This overrode my deployed datasource's "PostgreSQL 8.0" with just "PostgreSQL".  That took a moment to figure out.  Updating my JBoss version to "4.0" in xdoclet allowed me to drop the datasource type from the descriptors completely, and the server used the right mapping after that.</p>
