title=EJB 3 for the Blog Code
date=2007-01-30 15:23:31.909
type=post
status=published
tags=Blog Code, Technology, Toys, Java, Computers
~~~~~~
<p>I really <a href = "http://www.hjsoft.com/blog/link/New_Blog_Code_Want_EJB3">wanted EJB 3 for this weblog code</a>, so I've finally started it.</p>

<p>First, I wanted to rebuild the blacklist system to be more configurable and support regular expressions.  Instead of fighting with the old EJB 2.1 entities for the blacklist, I defined new EJB 3 entity and stateless session bean in a new EJB jar.</p>
<p>I built a client jar for my new EJB 3 code without the concrete session bean implementation code and without the <code>persistence.xml</code>. Excluding the <code>persistence.xml</code> was important, because the JBoss server tries to pick it up and deploy the entities again as part of the client (the old EJB 2.1 jar).  Each of my old packages got a copy of the client jar to allow them to use the new modules, since I have JBoss configured to isolate all the deployment units from each other.</p>
<p>Next, I may move the dynamic link tree (on the left of this page) to be EJB 3, or maybe I'll look at moving referrers to EJB 3.  EJB 3 is so much nicer now -- I never want to look back.</p>
