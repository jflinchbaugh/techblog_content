title=Lazy Disk Partitioning
date=2004-09-24 07:51:02.798
type=post
status=published
tags=ThinkPad R40, Linux
~~~~~~
<p>For years, I've religiously partitioned the hell out of my drives when installing Linux on a new machine.  It took a while to figure out the proper sizes for my usage, but I've gotten pretty good at it.  With my new R40, I got lazy and did only 3 filesystems -- <code>/</code>, <code>/boot</code>, <code>/home</code>.</p>
<p>As I've discovered, I was well-served to partition my previous machines' filesystems further.  The problem is that if you do get filesystem errors (which I have twice now, due to crashes or whatever), you're much better off if you can keep the effects isolated.</p>
<p><code>/var</code> is a very dynamic part of your filesystem.  Lots of logs, caches, and temp data are being constantly written there.  When you experience a crash, if anything's going to go wrong, <code>/var</code> is a likely place for it to happen.  In my laziness, I left <code>/var</code> as part of <code>/</code>.  This means that filesystem errors caused by partial data in a <code>/var</code> file can (and did) also affect other more vital parts of the system.  Not only did I end up having to reconstruct my <code>/var/lib</code> directory from remnants left in <code>/lost+found</code>, but chunks of my <code>/etc</code> turned up lost as well.  I fortunately have backups, so I didn't even really bother trying to reconstruct <code>/etc</code> too much.</p>
<p>Sanity prevails now, and <code>/var</code> lives on the idle partition I had left free for Windows XP.  A nice reiserfs seems like a better use for that partition anyway.</p>
